# **文件搜索命令locate**

locate 文件名（在后台数据库中按照文件名搜索，搜索速度更快）

/var/lib/mlocate（locate命令所搜索的后台数据库）

updatedb（更新数据库）

优点：速度快

缺点：只能搜索文件，且不能实时搜索新建文件

注：locate其实是搜索后台数据库，因此速度较快，但是不能搜索新建的文件（还未更新到数据库，可以updatedb强制更新数据库后搜索）。

 

locate搜索的是按照/etc/updatedb.conf配置文件搜索的：

PRUNE_BIND_MOUNTS=”yes”

\#开启搜索限制

PRONEFS=

\#搜索时，不搜索的文件系统

PRUNENAMES=

\#搜索时，不搜索的文件类型

PRUNEPATHS=

\#搜索时，不搜索的路径

 

# **命令搜索命令whereis/which**

 

# **文件搜索命令find**

格式：find [搜索范围] [搜索条件]

find / -name ***

避免大范围搜索，会非常耗费系统资源

find是在系统当中搜索符合条件的额文件名，如果需要匹配使用通配符匹配，通配符是完全匹配。

 

***\*不区分大小写：\****

find /root 0iname install.log（不区分大小写）

 

***\*按照所有者查找：\****

find /root -user root（按照所有者搜索）

find /root -nouser（查找没有所有者的文件）

***\*按照修改时间查找：\****

find /var/log -mtime +10（查找10天前修改的文件）

-10 10天内修改文件

10 10天当前修改的文件

+10 10天前修改的文件

atime 文件访问时间

ctime 改变文件属性

mtime 修改文件内容

 

***\*按照大小查找：\****

find . -size 25k（查找文件大小是25k的文件）

-25k 小于25kb的文件

25k 等于25kb的文件

+25kb 大于25kb的文件

***\*按照inode查找：\****

find . -inum 262322（查找i节点是262322的文件）

 

find /etc -size +20k -a -size -50k

查找/etc目录下，大于20kb并且小于50kb的文件

-a and 逻辑与，两个条件都满足

-o or 逻辑或，两个条件满足一个即可

find /etc -size +20k -a -size -50k -exec ls -lh {} \;

查找/etc目录下，大于20kb并且小于50kb的文件，并显示详细信息

-ecex/ -ok 命令{}\;对搜索结果进行操作

 

# **字符串搜索命令grep**

格式：grep [选项] 字符串 文件名（在文件当中匹配符合条件的字符串）

选项：

-i 忽略大小写

-v 排除指定字符串

 

***\*find与grep命令区别：\****

find命令：在系统当中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配。

grep命令：在文件当中搜索符合条件的字符串，如果需要匹配，使用正则表达式进行匹配，正则表达式是包含匹配。

 