# **工具对比**

## **内存**

|           | UDROP      | MINOS      |
| --------- | ---------- | ---------- |
| 纯编译    | 无特殊要求 | 无特殊要求 |
| Findbugs  | 2G         | 8G         |
| PMD       | 无特殊要求 | 无特殊要求 |
| Converity | 无特殊要求 | 无特殊要求 |
| Klockw    | 无特殊要求 | 无特殊要求 |
| Infer     | 无特殊要求 | 无特殊要求 |

## **运行时长**

|           | UDROP  | MINOS  |
| --------- | ------ | ------ |
| 纯编译    | 1.5min | 30min  |
| Findbugs  | 1.2min | 28min  |
| PMD       | 25s    | 5min   |
| Converity | 60min  | 3h9min |
| Klockw    | 5-6min | 32min  |
| Infer     | 3-4min | 未执行 |

 

## **易用性**

​	Findbugs：开源工具，具有较多的学习资源，无需安装，简单易懂。可嵌入ant和maven，但是代码要编译生成jar包，该工具是分析jar包的。Jenkins上的开源插件很简单易懂，能够便捷服务于CI，定位bug需要自己对应行数。

​	PMD：基本同上。

​	Converity：公司级软件，网上资料较少，需要安装客户端和服务器端（2次），部署麻烦，命令较多，至少3个命令才能完成分析，需要介入代码编译过程。Jenkins的插件厂商还在确认是否它们开发，设置有些不方便。定位bug方便，在客户端浏览器可直接定位。

​	Klockkw：公司级软件，技术资料较少，需要安装客户端和服务端（2次），部署麻烦，至少5个命令才能完成操作，需要介入编译过程。定位bug方便，在客户端浏览器可直接定位。

​	Infer：Facebook开源的静态检查工具，安装麻烦，需要介入编译过程，分析结果可导出html网页方式，分析是需要自己去对应行数的。

 

# **静态分析特点**

## **优点**

1、 它使消除软件瑕疵的成本大幅减少；

2、 全代码覆盖。静态分析器甚至会检查那些很少获得控制的代码片段，在使用其他方法时，这些代码片段往往不会被纳入测试范围。使用这种方式，你就可以找到例外处理程序或登录系统中的瑕疵；

3、 静态分析无需依赖你正在使用的编译器或被编译器程序的执行环境。这使你可以察觉到某些可能经过数年时间才能表现出来的隐藏错误，比如那些未定义的行为错误，当转换到其他编译器版本或使用其他代码优化开关时，此类错误才会表现出来；

4、 你可以轻易快速地检查出输入错误和复制-粘贴的情况。通过其他方法来检查这些错误往往会浪费很多的时间和经历。

## **缺点**

1、 静态分析对内存泄露和并发错误的诊断较差。要检查此类错误，你需要虚拟化执行部分程序，执行是件很苦难的事情，此类算法会耗费过多的内存和处理器时间，静态分析往往在诊断简单案例时会进行自我限制。使用动态分析工具来检查内存泄露和并发错误会更加有效；

2、 静态分析工具会警告你碎片的存在。事实上，代码是正确的，这种称为误报。只有程序猿才能理解分析器报告的是真正的错误还是误报。审查误报是必要的，这需要耗费一定的时间精力，而且会影响哪些真正存在错误的代码片段的注意力。

# **应用**

​	根据开发语言，推荐的工具如下：

| 语言  | 检查工具                         |
| ----- | -------------------------------- |
| Java  | Sonar(find bugs/PMD/check style) |
| C/C++ | Clockwork+source monitor         |

 