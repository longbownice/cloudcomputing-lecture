# **概述**

工作管理指的是在单个登录终端中（也就是登录的shell界面中）同时管理多个工作的行为。

注意事项：

1、当前的登录终端，只能管理当前终端的工作，而不能管理其他登录终端的工作

2、放入后台的命令必须可以持续运行一段时间，这样我们才能扑捉和操作这个工作

3、放入后台执行的命令不能和前台用户有交互或需要前台输入，否则放入后台只能暂停，而不能执行。

 

# **管理方法**

## **&**

把进程放入后台：

tar -zcf etc.tar.gz /etc &（把命令放入后台，并在后台执行）

top（按下Ctrl+z快捷键，放在后台暂停）

 

如果程序在前台运行，如果键入Ctrl+C ，程序会收到一个SIGINT信号，如果不做特殊处理，程序的默认行为是终止。

如果使用&后台运行，键入Ctrl+C，程序会继续运行。如果关掉session，程序会收到一个SIGHUP信号，此时进程终止。

使用nohup运行程序，会发现：

1、前台没有出现进程号

2、有一个“忽略输入，输出至nohup.out”的提示

3、输出也没有出现在前台

使用nohup启动a.out，如果键入Ctrl+C ，程序收到SIGINT信号后，直接关闭了。如果关掉session，程序会收到一个SIGHUP信号，但是进程不会终止。因此，实际应用中同时使用nohup和&。

***\*结论\*******\*：\****

***\*使用&后台运行程序：\****

1、结果会输出到终端

2、使用Ctrl + C发送SIGINT信号，程序免疫

3、关闭session发送SIGHUP信号，程序关闭

***\*使用nohup运行程序：\****

1、结果默认会输出到nohup.out

2、使用Ctrl + C发送SIGINT信号，程序关闭

3、关闭session发送SIGHUP信号，程序免疫

***\*平日线上经常使用nohup和&配合来启动程序：\****

同时免疫SIGINT和SIGHUP信号

 

## **nohup**

后台命令脱离终端：把命令放入后台，只能在当前登录终端执行。一旦退出或关闭终端，后台程序就会停止。

后台命令脱离登录终端执行的方法：

1、把需要后台执行的命令加入/etc/rc.local文件

2、使用系统定时任务，让系统在指定的时间执行某个后台命令

3、使用nohup命令：nohup sh ***.sh &

 

## **jobs**

查看后台的工作：jobs [-l]

选项：

-l 显示工作的PID

注：“+”号代表最近一个放入后台的工作，也是工作恢复时，默认恢复的工作。“-”号代表倒数第二个放入后台的工作。

 

## **fg**

将后台暂停的工作恢复到前台执行：fg %工作号

参数：

%工作号：%号可以省略，但是注意工作号和PID的区别

 

把后台暂停的工作恢复到后台执行：bg %工作号

注：后台恢复执行的命令，是不能和前台有交互的，否则不能恢复到后台执行。

## **ps**

## **kill**

 